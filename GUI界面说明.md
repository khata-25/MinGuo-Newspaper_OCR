# 交互式 GUI 界面说明

## 界面布局

```
┌─────────────────────────────────────────────────────────────────┐
│  🗞️ 民国报纸 OCR 识别系统                                         │
│  [📁 选择图片] [🚀 开始识别] [💾 保存结果] [🗑️ 清空]               │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────┬──────────────────────┐                │
│  │  📷 图片预览          │  📝 识别结果          │                │
│  │                     │                      │                │
│  │  [图片显示区域]       │  进度条: ▓▓▓▓▓░░░     │                │
│  │                     │  状态: 识别中...      │                │
│  │  (带区域标注)        │                      │                │
│  │                     │  [识别文本显示区域]    │                │
│  │                     │                      │                │
│  │                     │                      │                │
│  └─────────────────────┴──────────────────────┘                │
│                                                                 │
│  📋 运行日志                                                     │
│  ┌───────────────────────────────────────────────────────────┐ │
│  │ [09:45:23] INFO: 已选择图片: newspaper.jpg               │ │
│  │ [09:45:25] INFO: 开始识别...                             │ │
│  │ [09:45:26] INFO: Stage 1: 版面分割...                    │ │
│  │ [09:45:30] INFO: 检测到 8 个区域                         │ │
│  │ [09:45:31] INFO: Stage 2: 区域识别...                    │ │
│  └───────────────────────────────────────────────────────────┘ │
│                                                                 │
│  状态: 识别完成                                                  │
└─────────────────────────────────────────────────────────────────┘
```

## 界面元素说明

### 1. 顶部工具栏
- **标题**: "🗞️ 民国报纸 OCR 识别系统" - 显示应用名称
- **按钮组**:
  - `📁 选择图片` (绿色) - 打开文件选择对话框
  - `🚀 开始识别` (蓝色) - 启动识别流程（需先选择图片）
  - `💾 保存结果` (橙色) - 保存识别结果（需先完成识别）
  - `🗑️ 清空` (红色) - 清空所有内容，重新开始

### 2. 左侧面板：📷 图片预览
- **功能**: 显示上传的图片
- **特性**:
  - 自动缩放至合适大小
  - 支持滚动条查看大图
  - 初始状态显示提示文字："点击 '选择图片' 上传要识别的图片"
  - 识别后显示区域标注（红色边框 + 编号）

**区域标注示例**:
```
图片上会显示：
┌──────────────────┐
│  #1   [标题区]   │  ← 红色边框，标注 #1
├──────────────────┤
│  #2   [正文区]   │  ← 红色边框，标注 #2
├──────────────────┤
│  #3   [表格区]   │  ← 红色边框，标注 #3
└──────────────────┘
```

### 3. 右侧面板：📝 识别结果
- **进度条**: 
  - 0-10%: 准备阶段
  - 10-40%: Stage 1 版面分割
  - 40-100%: Stage 2 区域识别
  
- **进度文字**:
  - "等待开始..."
  - "Stage 1: 版面分割..."
  - "识别中: 3/8 区域"
  - "识别完成！"

- **文本显示区**:
  - 初始显示："识别结果将在此显示..."
  - 识别后显示 Markdown 格式的文本
  - 可滚动查看
  - 包含区域 ID 注释（便于对照图片）

**识别结果示例**:
```markdown
# newspaper_001

<!-- region_id: 0001 -->
## 民国三十五年五月十日

<!-- region_id: 0002 -->
本报讯：昨日国民政府主席...

<!-- region_id: 0003 -->
据悉，和平谈判将于本月...
```

### 4. 底部日志区：📋 运行日志
- **显示内容**:
  - 时间戳 [HH:MM:SS]
  - 日志级别 (INFO/ERROR)
  - 日志消息

- **样式**:
  - 黑色背景 (#1e1e1e)
  - 浅灰色文字 (#d4d4d4)
  - 类似 VS Code 控制台样式

- **日志示例**:
```
[09:45:23] INFO: 已选择图片: newspaper.jpg
[09:45:25] INFO: 开始识别...
[09:45:26] INFO: Stage 1: 版面分割...
[09:45:30] INFO: 检测到 8 个区域
[09:45:31] INFO: Stage 2: 区域识别...
[09:45:45] INFO: 识别完成！
```

### 5. 底部状态栏
- 显示当前应用状态
- 状态示例:
  - "就绪"
  - "已加载: newspaper.jpg"
  - "识别中..."
  - "识别完成"
  - "识别失败"

## 操作流程演示

### 场景 1: 首次使用
```
1. 启动应用
   界面状态: 
   - 图片预览区显示提示文字
   - 识别结果区显示 "识别结果将在此显示..."
   - 状态栏: "就绪"
   - 按钮状态: 只有"选择图片"和"清空"可用

2. 点击 "📁 选择图片"
   → 打开文件选择对话框
   → 选择 "newspaper.jpg"
   
3. 图片加载
   界面变化:
   - 图片预览区显示图片
   - 日志区: "[时间] INFO: 已选择图片: newspaper.jpg"
   - 状态栏: "已加载: newspaper.jpg"
   - "🚀 开始识别" 按钮变为可用（蓝色高亮）

4. 点击 "🚀 开始识别"
   界面变化:
   - 进度条开始移动
   - 进度文字: "Stage 1: 版面分割..."
   - 日志区: "[时间] INFO: 开始识别..."
   - 日志区: "[时间] INFO: Stage 1: 版面分割..."
   - 按钮状态: "选择图片"和"开始识别"暂时禁用

5. Stage 1 完成
   界面变化:
   - 进度条: 40%
   - 图片预览更新: 显示红色边框和区域编号
   - 日志区: "[时间] INFO: 检测到 8 个区域"
   - 进度文字: "Stage 2: 区域识别..."

6. Stage 2 进行中
   界面变化:
   - 进度条: 40% → 100% (逐步增长)
   - 进度文字: "识别中: 1/8 区域" → "识别中: 8/8 区域"
   - 识别结果逐步显示在右侧文本框

7. 识别完成
   界面变化:
   - 进度条: 100%
   - 进度文字: "识别完成！"
   - 识别结果完整显示
   - 日志区: "[时间] INFO: 识别完成！"
   - 状态栏: "识别完成"
   - "💾 保存结果" 按钮变为可用（橙色高亮）
   - "选择图片"和"开始识别"恢复可用

8. 点击 "💾 保存结果"
   → 打开保存对话框
   → 选择保存位置和文件名 (如 "newspaper_result.md")
   → 保存成功
   界面变化:
   - 日志区: "[时间] INFO: 结果已保存: newspaper_result.md"
   - 弹出提示框: "结果已保存到: [完整路径]"
```

### 场景 2: 清空重新识别
```
1. 点击 "🗑️ 清空"
   界面恢复初始状态:
   - 图片预览区: 显示提示文字
   - 识别结果区: 显示 "识别结果将在此显示..."
   - 进度条: 0%
   - 进度文字: "等待开始..."
   - 日志区: 添加 "[时间] INFO: 已清空"
   - 状态栏: "就绪"
   - 按钮状态: "开始识别"和"保存结果"禁用

2. 可以重新选择图片进行识别
```

## 错误处理

### 错误场景 1: 未配置 API
```
点击 "🚀 开始识别" 后:
- 弹出错误对话框: "配置文件 config.json 不存在！"
- 日志区: "[时间] ERROR: 识别失败: 配置文件不存在"
- 状态栏: "识别失败"
- 按钮恢复可用
```

### 错误场景 2: 网络问题
```
识别过程中:
- 日志区: "[时间] ERROR: 识别失败: API 调用超时"
- 弹出错误对话框: "识别失败: API 调用超时"
- 状态栏: "识别失败"
- 进度条停止
- 按钮恢复可用
```

### 错误场景 3: 图片无法读取
```
选择图片后:
- 日志区: "[时间] ERROR: 显示图片失败: 无法读取图片"
- 弹出错误对话框: "无法显示图片: [错误详情]"
- "开始识别" 按钮保持禁用
```

## 颜色方案

### 按钮颜色
- 选择图片: `#4CAF50` (绿色)
- 开始识别: `#2196F3` (蓝色)
- 保存结果: `#FF9800` (橙色)
- 清空: `#F44336` (红色)

### 文字颜色
- 标题: `#2196F3` (蓝色)
- 普通文字: 黑色
- 日志文字: `#d4d4d4` (浅灰)
- 提示文字: `#999` (灰色)

### 背景颜色
- 主界面: 白色
- 图片预览区: `#f0f0f0` (浅灰)
- 日志区: `#1e1e1e` (深灰/黑)

## 窗口尺寸
- 默认大小: 1400 x 900 像素
- 可调整大小
- 最小建议尺寸: 1024 x 768 像素

## 字体
- 中文界面: "Microsoft YaHei UI" (微软雅黑)
- 日志区: "Consolas" (等宽字体)

## 总结

这个交互式 GUI 应用提供了:
1. ✅ 直观的图形界面
2. ✅ 完整的操作反馈
3. ✅ 实时进度显示
4. ✅ 清晰的错误提示
5. ✅ 友好的用户体验

适合不熟悉命令行的用户使用，大大降低了使用门槛！
